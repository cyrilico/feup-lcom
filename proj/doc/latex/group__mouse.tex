\hypertarget{group__mouse}{}\section{mouse}
\label{group__mouse}\index{mouse@{mouse}}


Functions related with processing the PC\textquotesingle{}s mouse.  


\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_mouse}{Mouse}
\begin{DoxyCompactList}\small\item\em The \hyperlink{struct_mouse}{Mouse} \char`\"{}class\char`\"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__mouse_gaab5a16f4c5c371d5048e7a729a8b45c7}{}\label{group__mouse_gaab5a16f4c5c371d5048e7a729a8b45c7} 
typedef enum \hyperlink{group__mouse_ga3a546a0495d63ebc047bb726b47a4425}{lbutton\+\_\+t} \hyperlink{group__mouse_gaab5a16f4c5c371d5048e7a729a8b45c7}{lbstate}
\begin{DoxyCompactList}\small\item\em Possible mouse\textquotesingle{}s left button states. \end{DoxyCompactList}\item 
\hypertarget{group__mouse_ga15fce23ec12347df2f9ef8c3366eb01d}{}\label{group__mouse_ga15fce23ec12347df2f9ef8c3366eb01d} 
typedef enum \hyperlink{group__mouse_ga5fe920806b75c05466affe22b6156a21}{packetstate\+\_\+t} \hyperlink{group__mouse_ga15fce23ec12347df2f9ef8c3366eb01d}{packetstate}
\begin{DoxyCompactList}\small\item\em Possible mouse\textquotesingle{}s packet handling state. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__mouse_ga3a546a0495d63ebc047bb726b47a4425}{}\label{group__mouse_ga3a546a0495d63ebc047bb726b47a4425} 
enum \hyperlink{group__mouse_ga3a546a0495d63ebc047bb726b47a4425}{lbutton\+\_\+t} \{ {\bfseries R\+E\+L\+E\+A\+S\+ED}, 
{\bfseries P\+R\+E\+S\+S\+ED}
 \}\begin{DoxyCompactList}\small\item\em Possible mouse\textquotesingle{}s left button states. \end{DoxyCompactList}
\item 
\hypertarget{group__mouse_ga5fe920806b75c05466affe22b6156a21}{}\label{group__mouse_ga5fe920806b75c05466affe22b6156a21} 
enum \hyperlink{group__mouse_ga5fe920806b75c05466affe22b6156a21}{packetstate\+\_\+t} \{ {\bfseries R\+E\+C\+E\+I\+V\+I\+NG}, 
{\bfseries R\+E\+C\+E\+I\+V\+ED}
 \}\begin{DoxyCompactList}\small\item\em Possible mouse\textquotesingle{}s packet handling state. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__mouse_ga99506573209b197b84ee22a228b89fbd}{mouse\+\_\+subscribe\+\_\+int} ()
\begin{DoxyCompactList}\small\item\em Subscribes to the PC\textquotesingle{}s mouse and enables its interrupts. \end{DoxyCompactList}\item 
int \hyperlink{group__mouse_ga685ad2706aca36d9869a30a19b9f446a}{mouse\+\_\+unsubscribe\+\_\+int} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes mouse\textquotesingle{}s interrupts. \end{DoxyCompactList}\item 
unsigned long \hyperlink{group__mouse_ga43b4571e0c6a80c0a0b65c75ee72762e}{mouse\+\_\+write\+\_\+code} (long destination, unsigned char cmd)
\begin{DoxyCompactList}\small\item\em Writes a command byte to a specified port. \end{DoxyCompactList}\item 
int \hyperlink{group__mouse_gae4dd0dac34bd9ca58faf21a9f181a00d}{mouse\+\_\+write\+\_\+byte} (unsigned char byte)
\begin{DoxyCompactList}\small\item\em Writes a command byte to I\+N\+\_\+\+B\+UF issue a mouse command. \end{DoxyCompactList}\item 
\hyperlink{struct_mouse}{Mouse} $\ast$ \hyperlink{group__mouse_ga746cb478532b016b28ad06f8e03b22bc}{create\+\_\+mouse} ()
\begin{DoxyCompactList}\small\item\em Creates a new mouse \textquotesingle{}object\textquotesingle{} and enables the mouse\textquotesingle{}s data reporting feature (through command byte E\+N\+A\+B\+L\+E\+\_\+\+M\+O\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+R\+E\+P\+O\+R\+T\+I\+NG) \end{DoxyCompactList}\item 
\hyperlink{struct_mouse}{Mouse} $\ast$ \hyperlink{group__mouse_gaba19df7ff1055c560171ddffd5026aef}{create\+\_\+game\+\_\+mouse} ()
\begin{DoxyCompactList}\small\item\em Creates a new mouse \textquotesingle{}object\textquotesingle{} but does not load the crosshair as it\textquotesingle{}s unecessary in the main game and enables the mouse\textquotesingle{}s data reporting feature (through command byte E\+N\+A\+B\+L\+E\+\_\+\+M\+O\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+R\+E\+P\+O\+R\+T\+I\+NG) \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_ga533cb6e203c7fbd6e78e3326d32eeb78}{draw\+\_\+mouse} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse, char $\ast$buffer)
\begin{DoxyCompactList}\small\item\em Draws a mouse \textquotesingle{}object\textquotesingle{} at given buffer. \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_gae7c7eaeeb93ad9d3985b149279b7e142}{read\+\_\+packet\+\_\+byte} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Reads a packet\textquotesingle{}s byte from O\+U\+T\+\_\+\+B\+UF and if it is the packet\textquotesingle{}s last byte, updates the mouse. \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_ga89d5f7399006fac6c3e5e0300bd34869}{update\+\_\+mouse} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Updates a mouse\textquotesingle{}s position and its left button pressing state and resets its packet receiving state information. \end{DoxyCompactList}\item 
int \hyperlink{group__mouse_gae1e0937813a3d320ad6325616bd2b09e}{full\+\_\+packet\+\_\+received} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Checks if a mouse \textquotesingle{}object\textquotesingle{} has received a full packet. \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_gaca7e11158ac82e48f958b7517f6123d4}{reset\+\_\+packet\+\_\+state} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Resets a mouse\textquotesingle{}s packet state to R\+E\+C\+E\+I\+V\+I\+NG. \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_ga6f0992f39a6073db60ab60697f049082}{delete\+\_\+mouse} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Frees dynamically reserved memory and deletes mouse \textquotesingle{}object\textquotesingle{}. \end{DoxyCompactList}\item 
void \hyperlink{group__mouse_ga85ab65df1f1de5af9bdc7c96827c9d37}{delete\+\_\+game\+\_\+mouse} (\hyperlink{struct_mouse}{Mouse} $\ast$mouse)
\begin{DoxyCompactList}\small\item\em Frees dynamically reserved memory (except for the un-\/initialized crosshair bitmap) and deletes mouse \textquotesingle{}object\textquotesingle{}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions related with processing the PC\textquotesingle{}s mouse. 



\subsection{Function Documentation}
\hypertarget{group__mouse_gaba19df7ff1055c560171ddffd5026aef}{}\label{group__mouse_gaba19df7ff1055c560171ddffd5026aef} 
\index{mouse@{mouse}!create\+\_\+game\+\_\+mouse@{create\+\_\+game\+\_\+mouse}}
\index{create\+\_\+game\+\_\+mouse@{create\+\_\+game\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{create\+\_\+game\+\_\+mouse()}{create\_game\_mouse()}}
{\footnotesize\ttfamily \hyperlink{struct_mouse}{Mouse}$\ast$ create\+\_\+game\+\_\+mouse (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates a new mouse \textquotesingle{}object\textquotesingle{} but does not load the crosshair as it\textquotesingle{}s unecessary in the main game and enables the mouse\textquotesingle{}s data reporting feature (through command byte E\+N\+A\+B\+L\+E\+\_\+\+M\+O\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+R\+E\+P\+O\+R\+T\+I\+NG) 

\begin{DoxyReturn}{Returns}
Pointer to initialized \hyperlink{struct_mouse}{Mouse} 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__mouse_gae4dd0dac34bd9ca58faf21a9f181a00d}{mouse\+\_\+write\+\_\+byte} 
\end{DoxySeeAlso}
\hypertarget{group__mouse_ga746cb478532b016b28ad06f8e03b22bc}{}\label{group__mouse_ga746cb478532b016b28ad06f8e03b22bc} 
\index{mouse@{mouse}!create\+\_\+mouse@{create\+\_\+mouse}}
\index{create\+\_\+mouse@{create\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{create\+\_\+mouse()}{create\_mouse()}}
{\footnotesize\ttfamily \hyperlink{struct_mouse}{Mouse}$\ast$ create\+\_\+mouse (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates a new mouse \textquotesingle{}object\textquotesingle{} and enables the mouse\textquotesingle{}s data reporting feature (through command byte E\+N\+A\+B\+L\+E\+\_\+\+M\+O\+U\+S\+E\+\_\+\+D\+A\+T\+A\+\_\+\+R\+E\+P\+O\+R\+T\+I\+NG) 

\begin{DoxyReturn}{Returns}
Pointer to initialized \hyperlink{struct_mouse}{Mouse} 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__mouse_gae4dd0dac34bd9ca58faf21a9f181a00d}{mouse\+\_\+write\+\_\+byte} 
\end{DoxySeeAlso}
\hypertarget{group__mouse_ga85ab65df1f1de5af9bdc7c96827c9d37}{}\label{group__mouse_ga85ab65df1f1de5af9bdc7c96827c9d37} 
\index{mouse@{mouse}!delete\+\_\+game\+\_\+mouse@{delete\+\_\+game\+\_\+mouse}}
\index{delete\+\_\+game\+\_\+mouse@{delete\+\_\+game\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{delete\+\_\+game\+\_\+mouse()}{delete\_game\_mouse()}}
{\footnotesize\ttfamily void delete\+\_\+game\+\_\+mouse (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Frees dynamically reserved memory (except for the un-\/initialized crosshair bitmap) and deletes mouse \textquotesingle{}object\textquotesingle{}. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be deleted \\
\hline
\end{DoxyParams}
\hypertarget{group__mouse_ga6f0992f39a6073db60ab60697f049082}{}\label{group__mouse_ga6f0992f39a6073db60ab60697f049082} 
\index{mouse@{mouse}!delete\+\_\+mouse@{delete\+\_\+mouse}}
\index{delete\+\_\+mouse@{delete\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{delete\+\_\+mouse()}{delete\_mouse()}}
{\footnotesize\ttfamily void delete\+\_\+mouse (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Frees dynamically reserved memory and deletes mouse \textquotesingle{}object\textquotesingle{}. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be deleted \\
\hline
\end{DoxyParams}
\hypertarget{group__mouse_ga533cb6e203c7fbd6e78e3326d32eeb78}{}\label{group__mouse_ga533cb6e203c7fbd6e78e3326d32eeb78} 
\index{mouse@{mouse}!draw\+\_\+mouse@{draw\+\_\+mouse}}
\index{draw\+\_\+mouse@{draw\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{draw\+\_\+mouse()}{draw\_mouse()}}
{\footnotesize\ttfamily void draw\+\_\+mouse (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse,  }\item[{char $\ast$}]{buffer }\end{DoxyParamCaption})}



Draws a mouse \textquotesingle{}object\textquotesingle{} at given buffer. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be drawn \\
\hline
{\em buffer} & Buffer where the mouse will be drawn at (normally a secondary buffer) \\
\hline
\end{DoxyParams}
\hypertarget{group__mouse_gae1e0937813a3d320ad6325616bd2b09e}{}\label{group__mouse_gae1e0937813a3d320ad6325616bd2b09e} 
\index{mouse@{mouse}!full\+\_\+packet\+\_\+received@{full\+\_\+packet\+\_\+received}}
\index{full\+\_\+packet\+\_\+received@{full\+\_\+packet\+\_\+received}!mouse@{mouse}}
\subsubsection{\texorpdfstring{full\+\_\+packet\+\_\+received()}{full\_packet\_received()}}
{\footnotesize\ttfamily int full\+\_\+packet\+\_\+received (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Checks if a mouse \textquotesingle{}object\textquotesingle{} has received a full packet. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be tested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if mouse\textquotesingle{}s packet state is R\+E\+C\+E\+I\+V\+ED, 0 otherwise 
\end{DoxyReturn}
\hypertarget{group__mouse_ga99506573209b197b84ee22a228b89fbd}{}\label{group__mouse_ga99506573209b197b84ee22a228b89fbd} 
\index{mouse@{mouse}!mouse\+\_\+subscribe\+\_\+int@{mouse\+\_\+subscribe\+\_\+int}}
\index{mouse\+\_\+subscribe\+\_\+int@{mouse\+\_\+subscribe\+\_\+int}!mouse@{mouse}}
\subsubsection{\texorpdfstring{mouse\+\_\+subscribe\+\_\+int()}{mouse\_subscribe\_int()}}
{\footnotesize\ttfamily int mouse\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Subscribes to the PC\textquotesingle{}s mouse and enables its interrupts. 

\begin{DoxyReturn}{Returns}
Bitmask whose set bit number corresponds to the mouse\textquotesingle{}s hook\+ID if successful, -\/1 otherwise 
\end{DoxyReturn}
\hypertarget{group__mouse_ga685ad2706aca36d9869a30a19b9f446a}{}\label{group__mouse_ga685ad2706aca36d9869a30a19b9f446a} 
\index{mouse@{mouse}!mouse\+\_\+unsubscribe\+\_\+int@{mouse\+\_\+unsubscribe\+\_\+int}}
\index{mouse\+\_\+unsubscribe\+\_\+int@{mouse\+\_\+unsubscribe\+\_\+int}!mouse@{mouse}}
\subsubsection{\texorpdfstring{mouse\+\_\+unsubscribe\+\_\+int()}{mouse\_unsubscribe\_int()}}
{\footnotesize\ttfamily int mouse\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes mouse\textquotesingle{}s interrupts. 

\begin{DoxyReturn}{Returns}
0 if successful, -\/1 otherwise 
\end{DoxyReturn}
\hypertarget{group__mouse_gae4dd0dac34bd9ca58faf21a9f181a00d}{}\label{group__mouse_gae4dd0dac34bd9ca58faf21a9f181a00d} 
\index{mouse@{mouse}!mouse\+\_\+write\+\_\+byte@{mouse\+\_\+write\+\_\+byte}}
\index{mouse\+\_\+write\+\_\+byte@{mouse\+\_\+write\+\_\+byte}!mouse@{mouse}}
\subsubsection{\texorpdfstring{mouse\+\_\+write\+\_\+byte()}{mouse\_write\_byte()}}
{\footnotesize\ttfamily int mouse\+\_\+write\+\_\+byte (\begin{DoxyParamCaption}\item[{unsigned char}]{byte }\end{DoxyParamCaption})}



Writes a command byte to I\+N\+\_\+\+B\+UF issue a mouse command. 


\begin{DoxyParams}{Parameters}
{\em byte} & Command byte that will be written \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if command was sent successfully, -\/1 otherwise 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__mouse_ga43b4571e0c6a80c0a0b65c75ee72762e}{mouse\+\_\+write\+\_\+code} 
\end{DoxySeeAlso}
\hypertarget{group__mouse_ga43b4571e0c6a80c0a0b65c75ee72762e}{}\label{group__mouse_ga43b4571e0c6a80c0a0b65c75ee72762e} 
\index{mouse@{mouse}!mouse\+\_\+write\+\_\+code@{mouse\+\_\+write\+\_\+code}}
\index{mouse\+\_\+write\+\_\+code@{mouse\+\_\+write\+\_\+code}!mouse@{mouse}}
\subsubsection{\texorpdfstring{mouse\+\_\+write\+\_\+code()}{mouse\_write\_code()}}
{\footnotesize\ttfamily unsigned long mouse\+\_\+write\+\_\+code (\begin{DoxyParamCaption}\item[{long}]{destination,  }\item[{unsigned char}]{cmd }\end{DoxyParamCaption})}



Writes a command byte to a specified port. 


\begin{DoxyParams}{Parameters}
{\em destination} & Port where the command byte will be written to \\
\hline
{\em cmd} & Command byte that will be written \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if command was sent successfully, -\/1 otherwise 
\end{DoxyReturn}
\hypertarget{group__mouse_gae7c7eaeeb93ad9d3985b149279b7e142}{}\label{group__mouse_gae7c7eaeeb93ad9d3985b149279b7e142} 
\index{mouse@{mouse}!read\+\_\+packet\+\_\+byte@{read\+\_\+packet\+\_\+byte}}
\index{read\+\_\+packet\+\_\+byte@{read\+\_\+packet\+\_\+byte}!mouse@{mouse}}
\subsubsection{\texorpdfstring{read\+\_\+packet\+\_\+byte()}{read\_packet\_byte()}}
{\footnotesize\ttfamily void read\+\_\+packet\+\_\+byte (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Reads a packet\textquotesingle{}s byte from O\+U\+T\+\_\+\+B\+UF and if it is the packet\textquotesingle{}s last byte, updates the mouse. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} where the packet byte will be stored and possibly cause an update \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{group__mouse_ga89d5f7399006fac6c3e5e0300bd34869}{update\+\_\+mouse} 
\end{DoxySeeAlso}
\hypertarget{group__mouse_gaca7e11158ac82e48f958b7517f6123d4}{}\label{group__mouse_gaca7e11158ac82e48f958b7517f6123d4} 
\index{mouse@{mouse}!reset\+\_\+packet\+\_\+state@{reset\+\_\+packet\+\_\+state}}
\index{reset\+\_\+packet\+\_\+state@{reset\+\_\+packet\+\_\+state}!mouse@{mouse}}
\subsubsection{\texorpdfstring{reset\+\_\+packet\+\_\+state()}{reset\_packet\_state()}}
{\footnotesize\ttfamily void reset\+\_\+packet\+\_\+state (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Resets a mouse\textquotesingle{}s packet state to R\+E\+C\+E\+I\+V\+I\+NG. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be updated \\
\hline
\end{DoxyParams}
\hypertarget{group__mouse_ga89d5f7399006fac6c3e5e0300bd34869}{}\label{group__mouse_ga89d5f7399006fac6c3e5e0300bd34869} 
\index{mouse@{mouse}!update\+\_\+mouse@{update\+\_\+mouse}}
\index{update\+\_\+mouse@{update\+\_\+mouse}!mouse@{mouse}}
\subsubsection{\texorpdfstring{update\+\_\+mouse()}{update\_mouse()}}
{\footnotesize\ttfamily void update\+\_\+mouse (\begin{DoxyParamCaption}\item[{\hyperlink{struct_mouse}{Mouse} $\ast$}]{mouse }\end{DoxyParamCaption})}



Updates a mouse\textquotesingle{}s position and its left button pressing state and resets its packet receiving state information. 


\begin{DoxyParams}{Parameters}
{\em mouse} & \hyperlink{struct_mouse}{Mouse} \textquotesingle{}object\textquotesingle{} to be updated \\
\hline
\end{DoxyParams}
